/*
 Themify Builder - Asynchronous Script and Styles Loader */
'use strict';(function(b,g,a){let m;const R=function(){m.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"tb_load_editor"},success:function(e){var c=a.createElement("div");const r={},p={},t=a.createDocumentFragment();a.createDocumentFragment();const h=b.body[0],y=function(){r[this.src]=!0;m.ui&&m.fn.mouse&&m.fn.sortable&&b.trigger("tb_load_iframe");for(var n in p)if(!0!==r[n])return!1;n=a.createDocumentFragment();for(let f=0,x=l.length;f<x;++f)n.appendChild(l[f]);h.appendChild(n);g.tinymce&&
tinyMCE&&(tinyMCEPreInit.mceInit.tb_lb_hidden_editor.schema="html5",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.element_format="html",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=
!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0,tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor"),m("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools").remove())};c.innerHTML=e;e=c.querySelector("#tb_tinymce_wrap").children;const l=[];for(let n=0,f=e.length;n<f;++n)if("SCRIPT"!==e[0].tagName||e[0].getAttribute("type")&&"text/javascript"!==e[0].getAttribute("type"))t.appendChild(e[0]);
else{c=a.createElement("script");for(let x=e[0].attributes,u=x.length-1;-1<u;--u)c.setAttribute(x[u].name,x[u].value);var d=e[0].getAttribute("src");d?void 0===p[d]&&null===a.querySelector('script[src="'+d+'"]')&&(c.async=!1,p[d]=!0,c.addEventListener("load",y,{once:!0,passive:!0}),c.addEventListener("error",y,{once:!0,passive:!0}),t.appendChild(c)):(d=e[0].innerHTML,c.innerHTML=d,-1===d.indexOf("tinyMCEPreInit.")&&-1===d.indexOf(".addI18n")&&-1===d.indexOf(".i18n")&&-1===d.indexOf("wp.editor")?t.appendChild(c):
l.push(c));e[0].remove()}try{h.appendChild(t)}catch(n){}}})},Q=function(){let e;m=jQuery;if(!g.wp||!wp.customize){var c=a.getElementsByClassName("themify_builder_content");let h=a.getElementsByClassName("toggle_tb_builder")[0],y=!1;e=h?h.getElementsByClassName("tb_front_icon")[0].getAttribute("data-id"):!1;for(let l=c.length-1;-1<l;--l){var r=c[l].getAttribute("data-postid");let d=a.createElement("a");var p=a.createElement("span");r===e&&(y=!0);d.href="javascript:void(0);";d.className="tb_turn_on js-turn-on-builder";
p.className="dashicons dashicons-edit";p.setAttribute("data-id",r);d.appendChild(p);r=c[l].dataset.label||c[l].parentNode.dataset.label;p=a.createElement("span");p.innerHTML=r?r:tbLoaderVars.turnOnBuilder;d.appendChild(p);c[l].insertAdjacentElement(r?"beforeBegin":"afterEnd",d)}h||(h=a.getElementsByClassName("js-turn-on-builder")[0])||(e=a.getElementsByClassName("dashicons-edit")[0].getAttribute("data-id"));!1===y?(e=null,h.classList.add("tb_disabled_turn_on")):h.classList.remove("tb_disabled_turn_on")}let t=
0<g.location.href.indexOf("?")?"&":"?";t=g.location.href.replace(g.location.hash,"").replace("#","")+t+"tb-preview=1&ver="+g.themify_vars.version;b.body.on("click.tb_loading",".toggle_tb_builder:not(.tb_disabled_turn_on) > a, a.js-turn-on-builder",function(h){h.preventDefault();h.stopPropagation();const y=this.classList.contains("tb_restriction");b.LoadAsync(tbLocalScript.builder_url+"/js/editor/themify-ticks.js",function(){y&&(TB_Ticks.init(tbLocalScript.ticks).show(),init())},null,null,function(){return!!g.TB_Ticks});
b.body.off("click.tb_loading");if(!y){var l=this.classList.contains("js-turn-on-builder")?this.childNodes[0].getAttribute("data-id"):e;if(l&&!this.parentNode.classList.contains("tb_disabled_turn_on")){b.lazyDisable=b.lazyScrolling=!0;null!==b.observer&&b.observer.disconnect();var d=[],n=m(a).scrollTop(),f=b.convert(a.head.getElementsByTagName("link")).concat(b.convert(a.head.getElementsByTagName("style"))),x=b.body.children(),u=a.createElement("div"),C=a.createElement("div"),I=a.createElement("div"),
J=a.createElement("div"),M=a.createElement("div"),z=a.createElement("iframe");u.className="tb_workspace_container";C.className="tb_vertical_bars";I.id="tb_left_bar";J.id="tb_right_bar";I.className=J.className="tb_middle_bar";M.className="tb_vertical_change_tooltip";z.className="tb_iframe";z.id=z.name="tb_iframe";z.scrolling=b.isTouch?"no":"yes";z.src=t+"&tb-id="+l;b.off("builder_load_module_partial");m(a).off("ajaxComplete");if(null!==tbLoaderVars.styles)for(var v in tbLoaderVars.styles)""!==tbLoaderVars.styles[v]&&
(b.LoadCss(v,tbLoaderVars.styles[v]),d[v+"?ver="+tbLoaderVars.styles[v]]=1);var E=a.createElement("div");h=a.createElement("div");v=a.createElement("div");var N=a.getElementsByClassName("tb_front_icon")[0];E.id="tb_alert";E.className="tb_busy";h.id="tb_fixed_bottom_scroll";h.className="tb_fixed_scroll";v.id="builder_progress";v.appendChild(a.createElement("div"));a.body.insertAdjacentElement("afterbegin",h);a.body.appendChild(E);N&&N.parentNode.appendChild(v);b.on("tb_load_iframe",function(){C.appendChild(I);
C.appendChild(z);C.appendChild(J);C.appendChild(M);u.appendChild(C);z.addEventListener("load",function(){const O=this,q=O.contentWindow;let F;b.body.one("themify_builder_ready",function(A){m(E).fadeOut(100,function(){this.classList.remove("tb_busy")});A=b.body[0].classList.contains("archive");let G="themify_builder_active builder-breakpoint-desktop page-loaded";b.isTouch&&(G+=" tb_touch");A&&(G+=" archive");"1"===tbLoaderVars.isGlobalStylePost&&(G+=" gs_post");b.body[0].className=G;b.body[0].removeAttribute("style");
u.style.display="block";A=q.tb_app.Instances.Builder[0].$el.offset().top;A>n&&(n=A);q.scrollTo(0,n);b.iframe=z;b.is_builder_active=!0;setTimeout(function(){x.hide();for(var k=f.length-1;-1<k;--k)if(f[k]&&f[k].parentNode){var D=f[k].href,H=f[k].id;D?d[D]||-1!==D.indexOf("wp-includes")||-1!==D.indexOf("admin-bar")||(f[k].setAttribute("disabled",!0),f[k].parentNode.removeChild(f[k])):"tf_fonts_style"!==H&&"tf_lazy_common"!==H&&f[k].parentNode.removeChild(f[k])}f=d=tbLoaderVars=E=null;m(".themify_builder_content,#wpadminbar,header").remove();
x.filter("ul,a,video,audio").filter(":not(:has(link))").remove();k="scroll tfsmartresize debouncedresize throttledresize resize mouseenter keydown keyup mousedown assignVideo".split(" ");D=m(g);H=m(a);for(let w=k.length-1;-1<w;--w)D.off(k[w]),H.off(k[w]),b.body.off(k[w]);a.documentElement.removeAttribute("style");a.documentElement.removeAttribute("class");const K=q.tbLocalScript.ticks;K.postID=l;F.hasClass("tb_restriction")?setTimeout(function(){a.body.appendChild(F.find("#tmpl-builder-restriction")[0]);
TB_Ticks.init(K,q).show()},1E3):setTimeout(function(){TB_Ticks.init(K,q).ticks()},5E3);setTimeout(function(){const w="ThemifyBuilderModuleJs c _wpemojiSettings twemoji themifyScript tbLocalScript tbScrollHighlight google ThemifyGallery Animation $f Froogaloop SliderProSlide SliderProUtils ThemifySlider FixedHeader LayoutAndFilter WOW Waypoint $slidernav google Microsoft Rellax module$contents$MapsEvent_MapsEvent module$contents$mapsapi$overlay$OverlayView_OverlayView wc_add_to_cart_params woocommerce_params wc_cart_fragments_params wc_single_product_params tf_mobile_menu_trigger_point themifyMobileMenuTrigger".split(" ");
for(let B=w.length-1;-1<B;--B)g[w[B]]&&(g[w[B]]=null);b.events={};g.wp.emoji=null;g.ajaxurl=themify_vars.ajax_url;b.cssLazy=[];for(let B=q.document.querySelectorAll("[data-lazy]"),L=B.length-1;-1<L;--L)B[L].removeAttribute("data-lazy")},3E3)},800)});const P=function(){q.themifyBuilder.post_ID=l;F=q.jQuery("body");F.trigger("builderiframeloaded.themify",O)};if("__rocketLoaderLoadProgressSimulator"in q){const A=setInterval(function(){"complete"===q.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&
(clearInterval(A),P())},10)}else P()},{once:!0,passive:!0});a.body.appendChild(u)},!0);R()}}});b.body[0].classList.contains("tb_restriction")||-1!==g.location.href.indexOf("tb-id")||("#builder_active"===g.location.hash?(m(".toggle_tb_builder > a").first().click(),g.location.hash=""):(c=a.createElement("link"),c.href=t+(e?"&tb-id="+e:""),c.rel="prefetch",c.setAttribute("as","document"),a.head.appendChild(c)))};if(!0===g.loaded)Q();else b.on("tf_init",Q,!0)})(Themify,window,document);
