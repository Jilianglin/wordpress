'use strict';(function(d,e,t,n){if(e.body[0].classList.contains("slide-cart")){var q=document.querySelectorAll('a[href="#slide-cart"]');0<q.length&&e.sideMenu(q,{close:"#cart-icon-close",beforeShow:function(){e.LoadCss(t.theme_url+"/styles/wc/modules/basket.css",t.theme_v)}})}let r=!1;const p=e.body[0].querySelectorAll("#headerwrap .icon-shopping-cart");e.body.on("added_to_cart removed_from_cart",function(a){const b=d(".cart-icon");b.hasClass("empty-cart")&&("added_to_cart"===a.type?b.removeClass("empty-cart"):
0>=parseInt(d(".cart-icon-link span").text())&&b.addClass("empty-cart"));if("added_to_cart"===a.type){for(a=p.length-1;-1<a;--a)p[a].classList.remove("tf_loader");if(!1===r&&n.ajaxCartSeconds){r=!0;let l=parseInt(n.ajaxCartSeconds);const c=document.querySelector(e.isTouch?"#mobile-menu .cart-icon-link":".header-icons .cart-icon-link");if(null!==c){const f=c.getAttribute("href"),g=document.getElementById(f.replace("#",""));null!==g&&(e.on("sidemenushow.themify",function(h,m,k){f===h&&setTimeout(function(){d(g).is(":hover")?
g.addEventListener("mouseleave",function(){k.hidePanel();e.body[0].classList.remove("tf_auto_cart_open")},{once:!0,passive:!0}):(k.hidePanel(),e.body[0].classList.remove("tf_auto_cart_open"));r=!1},l)},!0),e.body[0].classList.add("tf_auto_cart_open"),setTimeout(function(){c.click()},100))}}}}).on("click",".remove-item-js",function(a){a.preventDefault();const b=d(this);a={action:"theme_delete_cart",remove_item:b.attr("data-product-key")};const l=d(".ajax_add_to_cart"),c=b.parent().find(".product-title a").attr("href");
b.removeClass("tf_close").addClass("tf_loader");d.post(woocommerce_params.ajax_url,a,function(f){const g=f.fragments;f=f.cart_hash;0===b.parent().find(".added_to_cart").length&&b.addClass("added");g&&(d.each(g,function(h,m){d(h).addClass("updating").replaceWith(m)}),d(g["#shopdock-ultra"]).find(".cart-total").length||d("#cart-icon-close").trigger("click"));l.length&&l.each(function(){d(this).hasClass("added")&&d(this).closest(".post-content").find('[href="'+c+'"]').length&&d(this).removeClass("added").siblings(".added_to_cart").remove()});
e.body.triggerHandler("removed_from_cart",[g,f]);b.removeClass("tf_loader").addClass("tf_close")})}).on("click",".remove_from_cart_button",function(a){a.preventDefault();this.classList.remove("tf_close");this.classList.add("tf_loader")}).on("adding_to_cart",function(){for(let a=p.length-1;-1<a;--a)p[a].className+=" tf_loader"});n.ajaxSingleCart&&(q=document.querySelector("form.cart"))&&q.addEventListener("submit",function(a){if(null===this.closest(".product-type-external")){if(-1<window.location.search.indexOf("switch-subscription"))return this;
a.preventDefault();a=new FormData(this);var b=this.getElementsByClassName("single_add_to_cart_button")[0],l=this.querySelector('[name="add-to-cart"]');"INPUT"!==l.tagName&&a.append("add-to-cart",l.value);b&&(b.classList.remove("added"),b.classList.add("loading"));a.append("action","theme_add_to_cart");e.body.triggerHandler("adding_to_cart",[this.querySelector('[type="submit"]'),a]);fetch(woocommerce_params.ajax_url,{method:"POST",headers:new Headers({Accept:"application/json","X-Requested-With":"XMLHttpRequest"}),
body:a}).then(c=>c.redirected||c.json()).then(c=>{if(c)if(n.redirect)window.location.href=n.redirect;else{var f=c.fragments;c=c.cart_hash;if(f){const g=Object.keys(f);let h;for(let m=g.length-1;-1<m;m--){h=document.querySelectorAll(g[m]);for(let k=h.length-1;-1<k;k--)h[k].className+=" updating",h[k].outerHTML=f[g[m]]}}b&&(b.classList.remove("loading"),b.classList.add("added"));e.body.triggerHandler("added_to_cart",[f,c])}})}})})(jQuery,Themify,themify_vars,themifyScript);
